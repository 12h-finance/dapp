'use client'

import { cn } from '@/lib/utils'
import { AnimatedBeam } from '@/components/magicui/animated-beam'
import React, { forwardRef, useRef } from 'react'
import USDCLogo from './logos/usdc'

// eslint-disable-next-line react/display-name
const Circle = forwardRef<
  HTMLDivElement,
  { className?: string; children?: React.ReactNode }
>(({ className, children }, ref) => {
  return (
    <div ref={ref} className={cn('z-10', className)}>
      {children}
    </div>
  )
})

export function BorrowBeam() {
  const containerRef = useRef<HTMLDivElement>(null)
  const div1Ref = useRef<HTMLDivElement>(null)
  const div2Ref = useRef<HTMLDivElement>(null)
  return (
    <div
      className='relative flex w-full max-w-[500px] items-center justify-center overflow-hidden rounded-lg border bg-white p-10 md:shadow-xl'
      ref={containerRef}
    >
      <div className='flex flex-col items-stretch justify-between w-full h-full gap-10'>
        <div className='flex flex-row justify-between'>
          <Circle ref={div1Ref}>
            <Icons.openai />
          </Circle>
          <Circle ref={div2Ref}>
            <USDCLogo className={'mt-4 size-12'} />
          </Circle>
        </div>
      </div>

      <AnimatedBeam
        duration={3}
        containerRef={containerRef}
        fromRef={div1Ref}
        toRef={div2Ref}
      />
    </div>
  )
}

const Icons = {
  openai: () => (
    <svg
      width='64'
      height='64'
      viewBox='0 0 64 64'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <g filter='url(#filter0_d_142_3574)'>
        <rect x='8' y='8' width='48' height='48' rx='8' fill='white' />
        <rect
          x='9'
          y='9'
          width='46'
          height='46'
          rx='7'
          stroke='#E4E4E7'
          stroke-width='2'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M34.7115 35.1289C33.7191 35.1289 32.8945 35.9534 32.8945 36.9459V36.9556C32.8945 37.9481 33.7191 38.7726 34.7115 38.7726H36.0596C36.2771 38.7725 36.4857 38.6861 36.6394 38.5323C36.7932 38.3785 36.8797 38.17 36.8797 37.9525C36.8797 37.7349 36.7934 37.5263 36.6396 37.3724C36.4858 37.2186 36.2772 37.1321 36.0596 37.1321H34.7115C34.5996 37.1321 34.535 37.0675 34.535 36.9556V36.9459C34.535 36.8339 34.5996 36.7694 34.7115 36.7694H37.1659C37.3834 36.7694 37.5921 36.6831 37.7459 36.5293C37.8998 36.3755 37.9862 36.1669 37.9863 35.9493C37.9863 35.8416 37.9651 35.7349 37.9239 35.6354C37.8827 35.5358 37.8222 35.4454 37.746 35.3692C37.6698 35.293 37.5794 35.2325 37.4799 35.1913C37.3803 35.1501 37.2736 35.1289 37.1659 35.1289H34.7115Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.1309 37.1328C35.0231 37.1328 34.9165 37.154 34.8169 37.1952C34.7174 37.2365 34.6269 37.2969 34.5507 37.3731C34.4745 37.4493 34.4141 37.5397 34.3729 37.6393C34.3316 37.7388 34.3104 37.8455 34.3105 37.9532C34.3105 38.1708 34.397 38.3794 34.5508 38.5332C34.7047 38.687 34.9133 38.7734 35.1309 38.7733H36.479C36.5909 38.7733 36.6555 38.8378 36.6555 38.9498V38.9595C36.6555 39.0714 36.5909 39.136 36.479 39.136H33.7478C33.5303 39.136 33.3217 39.2225 33.1679 39.3763C33.0141 39.5302 32.9277 39.7388 32.9277 39.9564C32.9277 40.1739 33.0141 40.3826 33.1679 40.5364C33.3217 40.6903 33.5303 40.7768 33.7478 40.7768H36.479C37.4715 40.7768 38.296 39.952 38.296 38.9595V38.9498C38.296 37.9573 37.4715 37.1328 36.479 37.1328H35.1309Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.5955 34.1094C35.378 34.1094 35.1694 34.1959 35.0157 34.3496C34.8619 34.5034 34.7755 34.712 34.7754 34.9295V35.9506C34.7755 36.1681 34.8619 36.3766 35.0157 36.5304C35.1694 36.6842 35.378 36.7706 35.5955 36.7707C35.813 36.7707 36.0217 36.6843 36.1755 36.5305C36.3294 36.3767 36.4158 36.1681 36.4159 35.9506V34.9295C36.4158 34.7119 36.3294 34.5033 36.1755 34.3495C36.0217 34.1957 35.813 34.1093 35.5955 34.1094Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.5955 39.1348C35.3779 39.1348 35.1693 39.2213 35.0155 39.3752C34.8617 39.529 34.7754 39.7377 34.7754 39.9552V40.976C34.7754 41.1935 34.8617 41.4022 35.0155 41.556C35.1693 41.7099 35.3779 41.7963 35.5955 41.7964C35.7032 41.7964 35.8099 41.7752 35.9094 41.734C36.009 41.6928 36.0995 41.6323 36.1757 41.5561C36.2518 41.4799 36.3123 41.3895 36.3535 41.29C36.3947 41.1904 36.4159 41.0837 36.4159 40.976V39.9552C36.4159 39.8474 36.3947 39.7408 36.3535 39.6412C36.3123 39.5417 36.2518 39.4512 36.1757 39.375C36.0995 39.2988 36.009 39.2384 35.9094 39.1972C35.8099 39.156 35.7032 39.1347 35.5955 39.1348Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.4925 20C24.9324 20 22.8457 22.0867 22.8457 24.6468V39.2996C22.8457 41.8597 24.9324 43.946 27.4925 43.946H36.5082C39.0683 43.946 41.155 41.8597 41.155 39.2996V35.7767V24.6468C41.155 22.0867 39.0683 20 36.5082 20H27.4925ZM27.4925 21.6405H36.5082C38.1877 21.6405 39.5141 22.9673 39.5141 24.6468V35.7767V39.2996C39.5141 40.9791 38.1877 42.3055 36.5082 42.3055H27.4925C25.8129 42.3055 24.4866 40.9791 24.4866 39.2996V24.6468C24.4866 22.9672 25.8129 21.6405 27.4925 21.6405Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 34.8965C27.8846 34.8965 27.7779 34.9177 27.6783 34.9589C27.5788 35.0001 27.4883 35.0606 27.4121 35.1367C27.336 35.2129 27.2755 35.3034 27.2343 35.4029C27.1931 35.5025 27.1719 35.6092 27.1719 35.7169C27.1719 35.9345 27.2584 36.1431 27.4123 36.2969C27.5661 36.4506 27.7748 36.537 27.9923 36.537H31.0844C31.3019 36.537 31.5106 36.4506 31.6644 36.2969C31.8183 36.1431 31.9048 35.9345 31.9048 35.7169C31.9048 35.6092 31.8836 35.5025 31.8424 35.4029C31.8012 35.3034 31.7408 35.2129 31.6646 35.1367C31.5884 35.0606 31.4979 35.0001 31.3984 34.9589C31.2988 34.9177 31.1921 34.8965 31.0844 34.8965H27.9923Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 24.8086C27.7748 24.8086 27.5661 24.8949 27.4123 25.0487C27.2584 25.2025 27.1719 25.4111 27.1719 25.6287C27.1719 25.7364 27.1931 25.8431 27.2343 25.9427C27.2755 26.0422 27.336 26.1327 27.4121 26.2088C27.4883 26.285 27.5788 26.3455 27.6783 26.3867C27.7779 26.4279 27.8846 26.4491 27.9923 26.4491H36.0101C36.1178 26.4491 36.2245 26.4279 36.324 26.3867C36.4236 26.3455 36.514 26.285 36.5902 26.2088C36.6664 26.1327 36.7269 26.0422 36.7681 25.9427C36.8093 25.8431 36.8305 25.7364 36.8305 25.6287C36.8304 25.4111 36.744 25.2025 36.5901 25.0487C36.4363 24.8949 36.2276 24.8086 36.0101 24.8086H27.9923Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 28.1719C27.8846 28.1719 27.7779 28.1931 27.6783 28.2343C27.5788 28.2755 27.4883 28.3359 27.4121 28.4121C27.336 28.4883 27.2755 28.5788 27.2343 28.6783C27.1931 28.7779 27.1719 28.8846 27.1719 28.9923C27.1719 29.2098 27.2584 29.4185 27.4123 29.5722C27.5661 29.726 27.7748 29.8124 27.9923 29.8124H36.0101C36.2276 29.8124 36.4363 29.726 36.5901 29.5722C36.744 29.4185 36.8304 29.2098 36.8305 28.9923C36.8305 28.8846 36.8093 28.7779 36.7681 28.6783C36.7269 28.5788 36.6664 28.4883 36.5902 28.4121C36.514 28.3359 36.4236 28.2755 36.324 28.2343C36.2245 28.1931 36.1178 28.1719 36.0101 28.1719H27.9923Z'
          fill='#0052FF'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 31.5332C27.8846 31.5332 27.7779 31.5544 27.6783 31.5956C27.5788 31.6368 27.4883 31.6973 27.4121 31.7735C27.336 31.8497 27.2755 31.9401 27.2343 32.0396C27.1931 32.1392 27.1719 32.2459 27.1719 32.3536C27.1719 32.5712 27.2584 32.7798 27.4123 32.9336C27.5661 33.0874 27.7748 33.1737 27.9923 33.1737H36.0101C36.2276 33.1737 36.4363 33.0874 36.5901 32.9336C36.744 32.7798 36.8304 32.5712 36.8305 32.3536C36.8305 32.2459 36.8093 32.1392 36.7681 32.0396C36.7269 31.9401 36.6664 31.8497 36.5902 31.7735C36.514 31.6973 36.4236 31.6368 36.324 31.5956C36.2245 31.5544 36.1178 31.5332 36.0101 31.5332H27.9923Z'
          fill='#0052FF'
        />
      </g>
      <defs>
        <filter
          id='filter0_d_142_3574'
          x='0'
          y='0'
          width='64'
          height='64'
          filterUnits='userSpaceOnUse'
          color-interpolation-filters='sRGB'
        >
          <feFlood flood-opacity='0' result='BackgroundImageFix' />
          <feColorMatrix
            in='SourceAlpha'
            type='matrix'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'
            result='hardAlpha'
          />
          <feMorphology
            radius='12'
            operator='erode'
            in='SourceAlpha'
            result='effect1_dropShadow_142_3574'
          />
          <feOffset />
          <feGaussianBlur stdDeviation='10' />
          <feComposite in2='hardAlpha' operator='out' />
          <feColorMatrix
            type='matrix'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.8 0'
          />
          <feBlend
            mode='normal'
            in2='BackgroundImageFix'
            result='effect1_dropShadow_142_3574'
          />
          <feBlend
            mode='normal'
            in='SourceGraphic'
            in2='effect1_dropShadow_142_3574'
            result='shape'
          />
        </filter>
      </defs>
    </svg>
  ),
  user: () => (
    <svg
      width='64'
      height='64'
      viewBox='0 0 64 64'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <g filter='url(#filter0_d_142_3570)'>
        <rect x='8' y='8' width='48' height='48' rx='8' fill='white' />
        <rect
          x='9'
          y='9'
          width='46'
          height='46'
          rx='7'
          stroke='#E4E4E7'
          stroke-width='2'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M34.7115 35.1289C33.7191 35.1289 32.8945 35.9534 32.8945 36.9459V36.9556C32.8945 37.9481 33.7191 38.7726 34.7115 38.7726H36.0596C36.2771 38.7725 36.4857 38.6861 36.6394 38.5323C36.7932 38.3785 36.8797 38.17 36.8797 37.9525C36.8797 37.7349 36.7934 37.5263 36.6396 37.3724C36.4858 37.2186 36.2772 37.1321 36.0596 37.1321H34.7115C34.5996 37.1321 34.535 37.0675 34.535 36.9556V36.9459C34.535 36.8339 34.5996 36.7694 34.7115 36.7694H37.1659C37.3834 36.7694 37.5921 36.6831 37.7459 36.5293C37.8998 36.3755 37.9862 36.1669 37.9863 35.9493C37.9863 35.8416 37.9651 35.7349 37.9239 35.6354C37.8827 35.5358 37.8222 35.4454 37.746 35.3692C37.6698 35.293 37.5794 35.2325 37.4799 35.1913C37.3803 35.1501 37.2736 35.1289 37.1659 35.1289H34.7115Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.1309 37.1328C35.0231 37.1328 34.9165 37.154 34.8169 37.1952C34.7174 37.2365 34.6269 37.2969 34.5507 37.3731C34.4745 37.4493 34.4141 37.5397 34.3729 37.6393C34.3316 37.7388 34.3104 37.8455 34.3105 37.9532C34.3105 38.1708 34.397 38.3794 34.5508 38.5332C34.7047 38.687 34.9133 38.7734 35.1309 38.7733H36.479C36.5909 38.7733 36.6555 38.8378 36.6555 38.9498V38.9595C36.6555 39.0714 36.5909 39.136 36.479 39.136H33.7478C33.5303 39.136 33.3217 39.2225 33.1679 39.3763C33.0141 39.5302 32.9277 39.7388 32.9277 39.9564C32.9277 40.1739 33.0141 40.3826 33.1679 40.5364C33.3217 40.6903 33.5303 40.7768 33.7478 40.7768H36.479C37.4715 40.7768 38.296 39.952 38.296 38.9595V38.9498C38.296 37.9573 37.4715 37.1328 36.479 37.1328H35.1309Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.5955 34.1094C35.378 34.1094 35.1694 34.1959 35.0157 34.3496C34.8619 34.5034 34.7755 34.712 34.7754 34.9295V35.9506C34.7755 36.1681 34.8619 36.3766 35.0157 36.5304C35.1694 36.6842 35.378 36.7706 35.5955 36.7707C35.813 36.7707 36.0217 36.6843 36.1755 36.5305C36.3294 36.3767 36.4158 36.1681 36.4159 35.9506V34.9295C36.4158 34.7119 36.3294 34.5033 36.1755 34.3495C36.0217 34.1957 35.813 34.1093 35.5955 34.1094Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M35.5955 39.1348C35.3779 39.1348 35.1693 39.2213 35.0155 39.3752C34.8617 39.529 34.7754 39.7377 34.7754 39.9552V40.976C34.7754 41.1935 34.8617 41.4022 35.0155 41.556C35.1693 41.7099 35.3779 41.7963 35.5955 41.7964C35.7032 41.7964 35.8099 41.7752 35.9094 41.734C36.009 41.6928 36.0995 41.6323 36.1757 41.5561C36.2518 41.4799 36.3123 41.3895 36.3535 41.29C36.3947 41.1904 36.4159 41.0837 36.4159 40.976V39.9552C36.4159 39.8474 36.3947 39.7408 36.3535 39.6412C36.3123 39.5417 36.2518 39.4512 36.1757 39.375C36.0995 39.2988 36.009 39.2384 35.9094 39.1972C35.8099 39.156 35.7032 39.1347 35.5955 39.1348Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.4925 20C24.9324 20 22.8457 22.0867 22.8457 24.6468V39.2996C22.8457 41.8597 24.9324 43.946 27.4925 43.946H36.5082C39.0683 43.946 41.155 41.8597 41.155 39.2996V35.7767V24.6468C41.155 22.0867 39.0683 20 36.5082 20H27.4925ZM27.4925 21.6405H36.5082C38.1877 21.6405 39.5141 22.9673 39.5141 24.6468V35.7767V39.2996C39.5141 40.9791 38.1877 42.3055 36.5082 42.3055H27.4925C25.8129 42.3055 24.4866 40.9791 24.4866 39.2996V24.6468C24.4866 22.9672 25.8129 21.6405 27.4925 21.6405Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 34.8965C27.8846 34.8965 27.7779 34.9177 27.6783 34.9589C27.5788 35.0001 27.4883 35.0606 27.4121 35.1367C27.336 35.2129 27.2755 35.3034 27.2343 35.4029C27.1931 35.5025 27.1719 35.6092 27.1719 35.7169C27.1719 35.9345 27.2584 36.1431 27.4123 36.2969C27.5661 36.4506 27.7748 36.537 27.9923 36.537H31.0844C31.3019 36.537 31.5106 36.4506 31.6644 36.2969C31.8183 36.1431 31.9048 35.9345 31.9048 35.7169C31.9048 35.6092 31.8836 35.5025 31.8424 35.4029C31.8012 35.3034 31.7408 35.2129 31.6646 35.1367C31.5884 35.0606 31.4979 35.0001 31.3984 34.9589C31.2988 34.9177 31.1921 34.8965 31.0844 34.8965H27.9923Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 24.8086C27.7748 24.8086 27.5661 24.8949 27.4123 25.0487C27.2584 25.2025 27.1719 25.4111 27.1719 25.6287C27.1719 25.7364 27.1931 25.8431 27.2343 25.9427C27.2755 26.0422 27.336 26.1327 27.4121 26.2088C27.4883 26.285 27.5788 26.3455 27.6783 26.3867C27.7779 26.4279 27.8846 26.4491 27.9923 26.4491H36.0101C36.1178 26.4491 36.2245 26.4279 36.324 26.3867C36.4236 26.3455 36.514 26.285 36.5902 26.2088C36.6664 26.1327 36.7269 26.0422 36.7681 25.9427C36.8093 25.8431 36.8305 25.7364 36.8305 25.6287C36.8304 25.4111 36.744 25.2025 36.5901 25.0487C36.4363 24.8949 36.2276 24.8086 36.0101 24.8086H27.9923Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 28.1719C27.8846 28.1719 27.7779 28.1931 27.6783 28.2343C27.5788 28.2755 27.4883 28.3359 27.4121 28.4121C27.336 28.4883 27.2755 28.5788 27.2343 28.6783C27.1931 28.7779 27.1719 28.8846 27.1719 28.9923C27.1719 29.2098 27.2584 29.4185 27.4123 29.5722C27.5661 29.726 27.7748 29.8124 27.9923 29.8124H36.0101C36.2276 29.8124 36.4363 29.726 36.5901 29.5722C36.744 29.4185 36.8304 29.2098 36.8305 28.9923C36.8305 28.8846 36.8093 28.7779 36.7681 28.6783C36.7269 28.5788 36.6664 28.4883 36.5902 28.4121C36.514 28.3359 36.4236 28.2755 36.324 28.2343C36.2245 28.1931 36.1178 28.1719 36.0101 28.1719H27.9923Z'
          fill='#0C0C4F'
        />
        <path
          fill-rule='evenodd'
          clip-rule='evenodd'
          d='M27.9923 31.5332C27.8846 31.5332 27.7779 31.5544 27.6783 31.5956C27.5788 31.6368 27.4883 31.6973 27.4121 31.7735C27.336 31.8497 27.2755 31.9401 27.2343 32.0396C27.1931 32.1392 27.1719 32.2459 27.1719 32.3536C27.1719 32.5712 27.2584 32.7798 27.4123 32.9336C27.5661 33.0874 27.7748 33.1737 27.9923 33.1737H36.0101C36.2276 33.1737 36.4363 33.0874 36.5901 32.9336C36.744 32.7798 36.8304 32.5712 36.8305 32.3536C36.8305 32.2459 36.8093 32.1392 36.7681 32.0396C36.7269 31.9401 36.6664 31.8497 36.5902 31.7735C36.514 31.6973 36.4236 31.6368 36.324 31.5956C36.2245 31.5544 36.1178 31.5332 36.0101 31.5332H27.9923Z'
          fill='#0C0C4F'
        />
      </g>
      <defs>
        <filter
          id='filter0_d_142_3570'
          x='0'
          y='0'
          width='64'
          height='64'
          filterUnits='userSpaceOnUse'
          color-interpolation-filters='sRGB'
        >
          <feFlood flood-opacity='0' result='BackgroundImageFix' />
          <feColorMatrix
            in='SourceAlpha'
            type='matrix'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'
            result='hardAlpha'
          />
          <feMorphology
            radius='12'
            operator='erode'
            in='SourceAlpha'
            result='effect1_dropShadow_142_3570'
          />
          <feOffset />
          <feGaussianBlur stdDeviation='10' />
          <feComposite in2='hardAlpha' operator='out' />
          <feColorMatrix
            type='matrix'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.8 0'
          />
          <feBlend
            mode='normal'
            in2='BackgroundImageFix'
            result='effect1_dropShadow_142_3570'
          />
          <feBlend
            mode='normal'
            in='SourceGraphic'
            in2='effect1_dropShadow_142_3570'
            result='shape'
          />
        </filter>
      </defs>
    </svg>
  ),
}
